import{a as y,A as g,i as m}from"./assets/vendor-B3sBNmPP.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function c(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=c(o);fetch(o.href,r)}})();const b="https://furniture-store-v2.b.goit.study/api/",L=document.querySelector(".js-review");async function h(e=1){try{const t=await y.get(`${b}feedbacks`),c=Array.isArray(t.data.feedbacks);return console.log("API response:",t.data.feedbacks),t.data}catch(t){return console.error("Помилка при завантаженні відгуків:",t),[]}}function v(e){L.innerHTML=e.map(({rating:t,comment:c,name:n})=>`
    <li class="review-exemplar">
      <p class="review-stars" data-rating="${t}">${t}</p>
      <p class="text-review">${c}</p>
      <p class="review-author">${n}</p>
    </li>
  `).join("")}async function f(){const e=await h();v(e)}f();const d=document.querySelector(".header"),w=document.querySelector(".burger-btn"),S=document.querySelector(".close-btn"),k=document.querySelector(".close-btn-tablet"),q=document.querySelector(".overlay");d.addEventListener("click",E);document.addEventListener("keydown",e=>{e.key==="Escape"&&d.classList.contains("menu-open")&&(d.classList.remove("menu-open"),document.body.classList.remove("no-scroll"))});function E(e){if(w.contains(e.target))d.classList.add("menu-open"),document.body.classList.add("no-scroll");else if(S.contains(e.target)||k.contains(e.target)||q.contains(e.target))d.classList.remove("menu-open"),document.body.classList.remove("no-scroll");else return}document.addEventListener("DOMContentLoaded",()=>{new g("#faq-accordion",{duration:300,collapse:!0,showMultiple:!1,elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel"})});const s=document.querySelector(".modal-overlay"),a=s==null?void 0:s.querySelector(".modal-form");let l={};function O({modelId:e="",color:t=""}={}){s&&(l={modelId:e,color:t},s.classList.add("is-open"),document.body.style.overflow="hidden")}function u(){s&&(s.classList.remove("is-open"),document.body.style.overflow="",l={})}document.addEventListener("click",e=>{var r,i;const t=e.target.closest(".modal-sub-btn");if(!t)return;const c=document.querySelector(".prod-modal-window"),n=(c==null?void 0:c.dataset.modelId)||t.dataset.modelId||"682f9bbf8acbdf505592ac42",o=((r=document.querySelector('input[name="product-color"]:checked'))==null?void 0:r.value)||"";(i=document.querySelector(".prod-modal-overlay"))==null||i.classList.remove("is-open"),console.log(n,o),O({modelId:n,color:o})});var p;(p=s==null?void 0:s.querySelector(".modal-close"))==null||p.addEventListener("click",u);s==null||s.addEventListener("click",e=>e.target===s&&u());document.addEventListener("keydown",e=>e.key==="Escape"&&(s==null?void 0:s.classList.contains("is-open"))&&u());a==null||a.addEventListener("submit",async e=>{if(e.preventDefault(),!a.checkValidity()){a.reportValidity();return}const t=new FormData(a),c={name:(t.get("name")||"").toString().trim(),phone:(t.get("phone")||"").toString().trim(),modelId:l.modelId,color:l.color,comment:(t.get("comment")||"").toString().trim()};try{const n=await fetch("https://furniture-store-v2.b.goit.study/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!n.ok){const r=await n.json().catch(()=>({}));m.error({title:"Помилка",message:r.message||`${n.status} ${n.statusText}`});return}const o=await n.json();m.success({title:"Успіх",message:`Замовлення прийнято. Номер: ${o.orderNum}`}),a.reset(),u()}catch(n){m.error({title:"Помилка мережі",message:n.message})}});f();
//# sourceMappingURL=index.js.map
